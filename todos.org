* File / Directory TODO List
** DONE Rebuild the directory structure to encapsulate pieces better.
   CLOSED: [2010-08-21 Sat 01:32]
** TODO Update makefiles / header files / etc / to cover new directory structure.

** Filenames [60%]                                                     :Work:
*** PENDING [#B] [[file:python_options.cc][python_options.cc]] [1/2]
    Needs some sub components checked, see child TODOS.
    - State "CURRENT"    from "TODO"       [2010-08-21 Sat 16:12]
**** DONE Make sure it compiles.
     Compiles now, used Chris's updates to optionlists.h.
     CLOSED: [2010-08-21 Sat 16:31]
     - State "DONE"       from "TODO"       [2010-08-21 Sat 16:31]
**** TODO [[file:python_options.cc::TODO%20check%20deallocation%20of%20new%20objects][dealloc issues for new objects?]]
*** PENDING [#C] [[file:.hgignore][.hgignore]]
*** PENDING [#C] [[file:include/options.h][options.h]]
    To be removed?
*** PENDING [[file:include/scomplexlist.h][scomplexlist.h]]
    No changes necessary?
*** PENDING [#C] [[file:options.cc][options.cc]]
    To be removed.
*** PENDING [[file:state/scomplexlist.cc][scomplexlist.cc]]
    No changes were necessary?
*** CURRENT [[file:include/python_options.h][python_options.h]] [/]
    added stopcondition components so that ssystem.cc will compile.
    - State "CURRENT"    from "PENDING"    [2010-08-21 Sat 15:44]
**** TODO [[file:include/python_options.h:138:][STOPCONDITION lines]]
     See file.
**** TODO [[file:include/python_options.h::define%20m_printStatusLine%20obj%20a%20b%20c][print calls]]
     print calls are now all #defines, fill in data.
*** CURRENT [[file:python_options.py][python_options.py]] [0/1]
    Need to add in print functions / log file manipulation now.
    - State "CURRENT"    from "DONE"       [2010-08-22 Sun 17:53]
    Merged the rest of the changes for this file. Should be nearly the
    same as previous.
    CLOSED: [2010-08-22 Sun 09:04]
    - State "DONE"       from "PENDING"    [2010-08-22 Sun 09:04]
**** TODO Files and printing functions.
***** code
#+srcname: print_functions
#+begin_src sh :exports results :results output
      grep print[^f] options.cc
      echo "_______"
      grep print[^f] include/python_options.h
#+end_src
***** Results
#+results: print_functions
#+begin_example
      void Options::printStatusLine( long r_seed, char *stop_id, double end_time )
      void Options::printStatusLine( long r_seed )
      void Options::printTrajLine( char *trigger_id, double cur_time )
      void Options::printStatusLine_Warning( int warningtype, int data )
      void Options::printStatusLine_First_Bimolecular( long r_seed, int completiontype, double completiontime, double forwardrate, char *tag )
      void Options::printStatusLine_Final_First_Bimolecular( double total_rate, double *total_times, long *total_types, long total_count, double *computed_rate_means, double *computed_rate_mean_diff_squared )
      void printError( int location, char **argv );
     _______
      #define m_printStatusLine( obj,a,b,c)
      //#define m_printStatusLine( obj,a)
      #define m_printTrajLine(obj,a,b)
      #define m_printStatusLine_First_Bimolecular( obj,a,b,c,d,e)
      #define m_printStatusLine_Final_First_Bimolecular( obj, a,b,c,d,e,f )
      #define m_printStatusLine_Warning( obj, a, b )
#+end_example
*** LATER [#B] [[file:Makefile][Makefile]]    [2/4]
    - State "LATER"      from "CURRENT"    [2010-08-23 Mon 03:06] \\
      Currently usable, rest is managing dependencies and so
      on. Remaining features for later work. 
**** TODO way too much in the way of connected dependencies, see if we can remove some of the crossed ones, especially scomplex.h and loop.h
     Can generate all these via simple scripts, e.g.: "grep loop.h
     */*" with appropriate flags for filename of matches only.
***** Code
      :PROPERTIES:
      :ID:       38BF8831-172D-4BC3-8B7A-D6B2EA95FE22
      :END:
#+srcname: generate_loop_deps
#+begin_src sh :exports results :results output
      grep -l loop.h *.cc
      grep -l loop.h */*.cc
      grep -l loop.h include/*.h
#+end_src
***** Results
#+results: generate_loop_deps
: loop/loop.cc
: loop/move.cc
: include/scomplex.h
: include/ssystem.h
: include/strandordering.h
**** PENDING [[file:Makefile::TODO][documentation]]
**** More components for [[Makefile][Makefile]] TODO List [2/3]
***** PENDING Update objects / sources / clean up other things. [1/2]
****** DONE Objects:
       Object files are collected nicely, and no longer get
       regenerated all the time. Clean, distclean, interface-clean all work.
       CLOSED: [2010-08-23 Mon 03:02]
       - State "DONE"       from "TODO"       [2010-08-23 Mon 03:02]
       
****** TODO Sourcefiles:
       Most still need checking for includes of type "../include/",
       which is no longer needed.
***** DONE revisit the python_interface necessity for PYTHON_THREADS
      It's no longer called python_interface, and is just "interface",
      which is the collection of c++ and python objects for using
      Multistrand via an interface rather than standalone. This is
      likely where options should go as well.
      CLOSED: [2010-08-23 Mon 03:00]
      - State "DONE"       from "TODO"       [2010-08-23 Mon 03:00]
***** DONE Add make target for embedded multistrand (current default is the standalone, with python options object)
      Added make target "interface" which builds the multistrand.so
      file for use in a python interpreted session. Cleaned up this
      function dramatically.
      CLOSED: [2010-08-23 Mon 03:01]
      - State "DONE"       from "TODO"       [2010-08-23 Mon 03:01]
**** CANCELED makefile substructure implementation
     CLOSED: [2010-08-23 Mon 02:59]
     - State "CANCELED"   from "PENDING"    [2010-08-23 Mon 02:59] \\
       No longer needed, sub directories are managed via the main Makefile in a clean way. See other notes re: that implementation.
***** LATER split up makefiles
      - State "LATER"      from "TODO"       [2010-08-22 Sun 07:18] \\
        May not be necessary, new makefile format is a lot cleaner than before.
***** TODO sanity check
**** DONE Primary targets work: all, python-interface
     All works fine, python-interface works up to boost errors.
     CLOSED: [2010-08-22 Sun 08:13]
     - State "DONE"       from "TODO"       [2010-08-22 Sun 08:13]
*** LATER [[file:outside_sources/re_generator.py][re_generator.py]]
    - State "LATER"      from "PENDING"    [2010-08-22 Sun 08:18] \\
      Utilities from other repos.
*** LATER [[file:outside_sources/util_regexp.py][util_regexp.py]]
    - State "LATER"      from "PENDING"    [2010-08-22 Sun 08:19] \\
      Utilities from other repos.
*** LATER [[file:outside_sources/complecks_multistrand.py][complecks_multistrand.py]]
    - State "LATER"      from "PENDING"    [2010-08-22 Sun 08:19] \\
      Utilities from other repos.
*** DONE [[file:optionlists.cc][optionlists.cc]]
    CLOSED: [2010-08-22 Sun 08:17]
    - State "DONE"       from "PENDING"    [2010-08-22 Sun 08:17]
      Chris' changes have been merged.
*** DONE [[file:include/optionlists.h][optionlists.h]]
    Chris has changes to this file.    
    CLOSED: [2010-08-22 Sun 08:16]
    - State "DONE"       from "PENDING"    [2010-08-22 Sun 08:16]
      Chris' changes have been merged.    
*** DONE [[file:energymodel/viennaenergymodel.cc][viennaenergymodel.cc]]
    CLOSED: [2010-08-22 Sun 07:49]
    - State "DONE"       from "TODO"       [2010-08-22 Sun 07:49]
    Chris has updates to this file.
*** DONE [[file:python_testing/embedding_test.cc][embedding_test.cc]]
    Fixed minor issues, it should now compile correctly and all
    examples updated to use proper refcounting.
    CLOSED: [2010-08-21 Sat 16:40]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 16:40]
*** DONE [[file:python_testing/embedding_test2.cc][embedding_test2.cc]]
    Minor changes to accomodate new headers.
    CLOSED: [2010-08-21 Sat 16:34]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 16:34]
    Header include path changes only.
    CLOSED: [2010-08-21 Sat 16:42]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 16:42]
*** DONE [[file:include/strandordering.h][strandordering.h]]                                            :Future:
    Currently closed, may need future work.
    CLOSED: [2010-08-21 Sat 16:09]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 16:09]
*** DONE [[file:state/strandordering.cc::used%20to%20track%20sequences%20and%20structures%20within%20a%20complex%20for%20easy%20printing%20etc][strandordering.cc]]
    Fixed some default tag issues and const char warnings. Changed
    header links.
    CLOSED: [2010-08-21 Sat 16:08]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 16:08]
*** DONE [[file:energymodel/energymodel.cc][energymodel.cc]]
    Chopped out all the commented energy model code that was split
    into separate files. This means the file boils down to just the
    constructors we had in the energy model before, as they can't be
    virtual. The destructor is virtual but not pure. If you ever hit
    it though, something is odd.
    CLOSED: [2010-08-21 Sat 05:04]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 05:04]

*** DONE [[file:energymodel/nupackenergymodel.cc][nupackenergymodel.cc]]
    Previous modifications appeared to be enough, it now compiles
    correctly once the paths were updated.
    CLOSED: [2010-08-21 Sat 05:26]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 05:26]
    CLOCK: [2010-08-21 Sat 05:21]--[2010-08-21 Sat 05:26] =>  0:05

*** DONE [[file:include/energymodel.h][energymodel.h]] [3/3]
    CLOSED: [2010-08-21 Sat 15:03]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 15:03]
**** DONE EnergyModel
     CLOSED: [2010-08-21 Sat 05:20]
     - State "DONE"       from "TODO"       [2010-08-21 Sat 05:20]
**** DONE ViennaEnergyModel
     Header portion ok, at least.
     CLOSED: [2010-08-21 Sat 05:33]
     - State "DONE"       from "TODO"       [2010-08-21 Sat 05:33]
***** Possibly check for compatibility with newer energy mode features - bimolecular rate constants, etc. :Future:
       
**** DONE NupackEnergyModel
     No changes, was done in earlier revisions.
     CLOSED: [2010-08-21 Sat 15:01]
     - State "DONE"       from "TODO"       [2010-08-21 Sat 15:01]
*** DONE [[file:include/loop.h][loop.h]]
    Wasn't in list for some reason, but it needed no changes.
    CLOSED: [2010-08-21 Sat 15:08]
    - State "DONE"       from ""           [2010-08-21 Sat 15:08]
*** DONE [[file:include/move.h][move.h]]
    CLOSED: [2010-08-21 Sat 15:05]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 15:05]
      No changes needed.
*** DONE [[file:include/scomplex.h][scomplex.h]]
    no changes.
    CLOSED: [2010-08-21 Sat 15:40]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 15:40]
*** DONE [[file:include/ssystem.h][ssystem.h]]
    No large changes.
    CLOSED: [2010-08-21 Sat 15:59]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 15:59]
*** DONE [[file:loop/loop.cc][loop.cc]]
    Only path changes.
    CLOSED: [2010-08-21 Sat 15:06]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 15:06]
*** DONE [[file:loop/move.cc][move.cc]]
    Only changes were in the include paths.
    CLOSED: [2010-08-21 Sat 15:05]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 15:05]
*** DONE [[file:state/scomplex.cc][scomplex.cc]]
    Include path changes only.
    CLOSED: [2010-08-21 Sat 15:39]
    - State "DONE"       from "TODO"       [2010-08-21 Sat 15:39]
*** DONE [[file:system/ssystem.cc][ssystem.cc]]
    Completed header moves. Renamed all print calls to use macro
    format, once those macros are in it should just work.
    CLOSED: [2010-08-21 Sat 15:59]
    - State "DONE"       from "PENDING"    [2010-08-21 Sat 15:59]


* File Notes
** obj/python:
   subdirectory for direct interface .o files for building .so targets
   or others.
** old:
    old/options_data:
    old options objects.

    old/src:
    source no longer in use (iosys.lex / iosys.y)


* control commands (org-mode)
//#+TYP_TODO: JS CB Other | DONE
#+SEQ_TODO: TODO(t) | 
#+SEQ_TODO: REPORT(r) BUG(b@/!) KNOWNCAUSE(k@/!) | FIXED(f!)
#+SEQ_TODO: PENDING(p) CURRENT(c!) LATER(l@/!) | CANCELED(@/@) DONE(d!)
#+SEQ_TODO: | FUTURE(!/!)
//#+SEQ_TODO: TODO FEEDBACK VERIFY | DONE CANCELED
